<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Upgrade - Investing101</title>
  <link rel="stylesheet" href="dist/main.css">
  <script src="device-detection.js"></script>
  <script src="gamification-widget.js"></script>
  <script>
    (function(){
      try {
        var supported = ['light','dark','ultradark','emerald-trust','quantum-violet','copper-balance','regal-portfolio','carbon-edge'];
        var alias = { sepia: 'copper-balance' };
        var stored = localStorage.getItem('inv101_theme');
        var legacy = localStorage.getItem('darkMode') === 'true' ? 'dark' : null;
        var theme = (stored || legacy || 'light').toLowerCase();
        if (theme.indexOf('theme-') === 0) theme = theme.slice(6);
        if (alias[theme]) theme = alias[theme];
        if (supported.indexOf(theme) === -1) theme = 'light';
        var root = document.documentElement;
        var purge = ['dark-mode','theme-sepia'];
        supported.forEach(function(id){ purge.push('theme-' + id); });
        purge.forEach(function(cls){ root.classList.remove(cls); });
        root.classList.add('theme-' + theme);
      } catch (e) {}
    })();
  </script>
</head>
<body class="bg-white dark:bg-slate-950">
  <script src="global-ui.js"></script>
  <div class="flex min-h-screen flex-col">
    <header class="flex items-center justify-between border-b border-slate-200 bg-white px-6 py-4 dark:border-slate-800 dark:bg-slate-900">
      <a class="link-button" href="index.html">‚Üê Back</a>
      <h1 class="text-xl font-bold">Upgrade Your Learning</h1>
      <span></span>
    </header>

    <main class="flex-1 overflow-auto pb-20">
      <!-- Hero Section -->
      <div class="px-6 py-12 bg-gradient-to-br from-primary-green via-emerald-600 to-teal-600 text-white text-center">
        <h2 class="text-4xl font-bold mb-4">Unlock Your Full Potential</h2>
        <p class="text-xl text-emerald-100 max-w-2xl mx-auto">
          Get access to advanced lessons, AI insights, unlimited simulations, and more.
        </p>
      </div>

      <!-- Current Tier Badge -->
      <div class="px-6 py-4">
        <div class="card border-2 border-primary-green bg-gradient-to-r from-white to-emerald-50 dark:from-slate-900 dark:to-emerald-950">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-sm text-slate-600 dark:text-slate-400">Current Plan</div>
              <div class="text-2xl font-bold text-primary-green" id="currentTier">Free</div>
            </div>
            <div class="text-5xl">üÜì</div>
          </div>
        </div>
      </div>

      <!-- Pricing Cards -->
      <div class="px-6 py-4">
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4">
          <!-- Free Tier -->
          <div class="card border-2 border-slate-300 dark:border-slate-700">
            <div class="text-center mb-4">
              <div class="text-4xl mb-2">üÜì</div>
              <h3 class="text-2xl font-bold mb-2">Free</h3>
              <div class="text-3xl font-bold mb-1">$0</div>
              <div class="text-sm text-slate-600 dark:text-slate-400">Forever free</div>
            </div>

            <ul class="space-y-3 mb-6 text-sm">
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-primary-green mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Basic lessons (Foundations, Instruments)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-primary-green mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Basic calculators</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-primary-green mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Limited simulator scenarios</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-primary-green mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>XP & leveling system</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-primary-green mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Daily challenges</span>
              </li>
            </ul>

            <button class="w-full py-3 px-4 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-lg cursor-default">
              Current Plan
            </button>
          </div>

          <!-- Basic Tier -->
          <div class="card border-2 border-emerald-500">
            <div class="text-center mb-4">
              <div class="text-4xl mb-2">üíö</div>
              <h3 class="text-2xl font-bold mb-2">Basic</h3>
              <div class="text-3xl font-bold mb-1">$4.99</div>
              <div class="text-sm text-slate-600 dark:text-slate-400">per month</div>
            </div>

            <ul class="space-y-3 mb-6 text-sm">
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span class="font-semibold">Everything in Free, plus:</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>All lessons unlocked</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>All calculators unlocked</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Intermediate simulator scenarios</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Basic AI insights</span>
              </li>
            </ul>

            <button onclick="handleUpgrade('basic')" class="w-full py-3 px-4 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg transition">
              Upgrade to Basic
            </button>
          </div>

          <!-- Pro Tier (Most Popular) -->
          <div class="card border-4 border-blue-500 bg-gradient-to-br from-white to-blue-50 dark:from-slate-900 dark:to-blue-950 relative">
            <div class="absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-blue-500 text-white text-xs font-bold rounded-full">
              MOST POPULAR
            </div>

            <div class="text-center mb-4 mt-2">
              <div class="text-4xl mb-2">üîµ</div>
              <h3 class="text-2xl font-bold mb-2">Pro</h3>
              <div class="text-3xl font-bold mb-1">$9.99</div>
              <div class="text-sm text-slate-600 dark:text-slate-400">per month</div>
            </div>

            <ul class="space-y-3 mb-6 text-sm">
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span class="font-semibold">Everything in Basic, plus:</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Advanced simulator (all scenarios + history)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Full AI insights & analysis</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Advanced charts & visualization</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Access to leaderboards & competitions</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Weekly challenges & bonus XP</span>
              </li>
            </ul>

            <button onclick="handleUpgrade('pro')" class="w-full py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition">
              Upgrade to Pro
            </button>
          </div>

          <!-- Expert Tier -->
          <div class="card border-2 border-purple-500">
            <div class="text-center mb-4">
              <div class="text-4xl mb-2">üëë</div>
              <h3 class="text-2xl font-bold mb-2">Expert</h3>
              <div class="text-3xl font-bold mb-1">$19.99</div>
              <div class="text-sm text-slate-600 dark:text-slate-400">per month</div>
            </div>

            <ul class="space-y-3 mb-6 text-sm">
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-purple-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span class="font-semibold">Everything in Pro, plus:</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-purple-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Priority customer support</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-purple-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Custom AI analysis requests</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-purple-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>API access for portfolio integration</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-purple-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>1-on-1 coaching sessions (monthly)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-purple-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Early access to new features</span>
              </li>
            </ul>

            <button onclick="handleUpgrade('expert')" class="w-full py-3 px-4 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg transition">
              Upgrade to Expert
            </button>
          </div>
        </div>
      </div>

      <!-- FAQ -->
      <div class="px-6 py-8">
        <div class="card max-w-3xl mx-auto">
          <h3 class="text-2xl font-bold mb-6 text-center">Frequently Asked Questions</h3>
          
          <div class="space-y-4">
            <details class="group">
              <summary class="font-semibold cursor-pointer flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-lg">
                Can I cancel anytime?
                <svg class="w-5 h-5 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </summary>
              <div class="p-4 text-slate-600 dark:text-slate-400">
                Yes! You can cancel your subscription at any time. You'll retain access until the end of your billing period.
              </div>
            </details>

            <details class="group">
              <summary class="font-semibold cursor-pointer flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-lg">
                Can I upgrade or downgrade later?
                <svg class="w-5 h-5 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </summary>
              <div class="p-4 text-slate-600 dark:text-slate-400">
                Absolutely! You can upgrade or downgrade your plan at any time. Changes will be reflected in your next billing cycle.
              </div>
            </details>

            <details class="group">
              <summary class="font-semibold cursor-pointer flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-lg">
                Is there a free trial?
                <svg class="w-5 h-5 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </summary>
              <div class="p-4 text-slate-600 dark:text-slate-400">
                We offer a 7-day free trial for Pro and Expert tiers. You can explore all premium features before committing.
              </div>
            </details>

            <details class="group">
              <summary class="font-semibold cursor-pointer flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-lg">
                What payment methods do you accept?
                <svg class="w-5 h-5 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </summary>
              <div class="p-4 text-slate-600 dark:text-slate-400">
                We accept all major credit cards, PayPal, and Apple Pay through our secure payment processor.
              </div>
            </details>
          </div>
        </div>
      </div>

      <!-- CTA Section -->
      <div class="px-6 py-12 bg-gradient-to-r from-primary-green to-emerald-600 text-white text-center">
        <h3 class="text-3xl font-bold mb-4">Ready to Level Up?</h3>
        <p class="text-xl text-emerald-100 mb-6 max-w-2xl mx-auto">
          Join thousands of learners mastering investing with Investing101 Pro.
        </p>
        <button onclick="handleUpgrade('pro')" class="px-8 py-4 bg-white text-primary-green font-bold rounded-lg text-lg hover:bg-emerald-50 transition">
          Start Your Free Trial
        </button>
      </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 flex border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900" aria-label="Primary navigation">
      <a class="flex-1 flex flex-col items-center justify-center gap-1 border-r border-slate-200 px-2 py-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-primary-green dark:border-slate-800 dark:text-slate-300 dark:hover:bg-slate-900 dark:hover:text-primary-green" href="index.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-home"></use></svg>
        <span>Main</span>
      </a>
      <a class="flex-1 flex flex-col items-center justify-center gap-1 border-r border-slate-200 px-2 py-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-primary-green dark:border-slate-800 dark:text-slate-300 dark:hover:bg-slate-900 dark:hover:text-primary-green" href="simulator.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-sim"></use></svg>
        <span>Sim/AI</span>
      </a>
      <a class="flex-1 flex flex-col items-center justify-center gap-1 border-r border-slate-200 px-2 py-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-primary-green dark:border-slate-800 dark:text-slate-300 dark:hover:bg-slate-900 dark:hover:text-primary-green" href="lessons.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-lessons"></use></svg>
        <span>Lessons</span>
      </a>
      <a class="flex-1 flex flex-col items-center justify-center gap-1 border-r border-slate-200 px-2 py-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-primary-green dark:border-slate-800 dark:text-slate-300 dark:hover:bg-slate-900 dark:hover:text-primary-green" href="calculators.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-calc"></use></svg>
        <span>Calc</span>
      </a>
      <a class="flex-1 flex flex-col items-center justify-center gap-1 px-2 py-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-primary-green tabbar__btn--active dark:border-slate-800 dark:text-slate-300 dark:hover:bg-slate-900 dark:hover:text-primary-green" href="profile.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-profile"></use></svg>
        <span>Profile</span>
      </a>
    </nav>
  </div>

  <script>
    // Load current tier
    function loadCurrentTier() {
      const user = JSON.parse(localStorage.getItem('inv101_user') || '{}');
      const tier = user.subscriptionTier || 'free';
      document.getElementById('currentTier').textContent = tier.charAt(0).toUpperCase() + tier.slice(1);
    }

    // Handle upgrade
    function handleUpgrade(tier) {
      alert(`Upgrade to ${tier} tier coming soon! Payment integration will be added.`);
      // TODO: Integrate with Stripe/PayPal
      // window.location.href = `/checkout?tier=${tier}`;
    }

    // Initialize
    loadCurrentTier();
  </script>
</body>
</html>
