<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Annualized Return Calculator</title>
  <link rel="stylesheet" href="styles.css">
  <script>if (localStorage.getItem('darkMode') === 'true') { document.documentElement.classList.add('dark-mode-loading'); }</script>
  <script src="device-detection.js"></script>
</head>
<body>
  <script>if (localStorage.getItem('darkMode') === 'true') { document.body.classList.add('dark-mode'); }
    if (localStorage.getItem('compactMode') === 'true') { document.body.classList.add('compact-mode'); }</script>
  <div class="app">
    <header class="app__header">
      <a class="link-button" href="calc-core.html">‚Üê Back to CORE</a>
      <span>Annualized Return</span>
      <span></span>
    </header>
    <main class="app__content">
      <section class="card">
        <h2>Annualized Return Calculator</h2>
        <p>Calculate the average yearly return of your investment over time.</p>
        
        <form id="annualizedForm" style="margin-top: 20px;">
          <div style="margin-bottom: 16px;">
            <label style="display: block; font-weight: 600; margin-bottom: 6px;">Beginning Value ($)</label>
            <input type="number" id="beginning" step="0.01" min="0" placeholder="10000" style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 8px; font-size: 1rem; background: var(--bg-card); color: var(--text);">
          </div>
          
          <div style="margin-bottom: 16px;">
            <label style="display: block; font-weight: 600; margin-bottom: 6px;">Ending Value ($)</label>
            <input type="number" id="ending" step="0.01" min="0" placeholder="15000" style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 8px; font-size: 1rem; background: var(--bg-card); color: var(--text);">
          </div>
          
          <div style="margin-bottom: 16px;">
            <label style="display: block; font-weight: 600; margin-bottom: 6px;">Number of Years</label>
            <input type="number" id="years" step="0.1" min="0.1" placeholder="5" style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 8px; font-size: 1rem; background: var(--bg-card); color: var(--text);">
          </div>
          
          <button type="submit" class="btn btn--primary" style="width: 100%; padding: 14px; font-size: 1.1rem;">Calculate</button>
        </form>
        
        <div id="result" style="display: none; margin-top: 24px; padding: 20px; background: var(--bg-muted); border-radius: 12px; border: 2px solid var(--accent);">
          <h3 style="margin-bottom: 16px; color: var(--accent);">Results</h3>
          <div style="display: grid; gap: 12px;">
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--bg-card); border-radius: 8px;">
              <span style="font-weight: 600;">Total Return:</span>
              <span id="totalReturn"></span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--bg-card); border-radius: 8px;">
              <span style="font-weight: 600;">Annualized Return:</span>
              <span id="annualizedReturn" style="font-size: 1.3rem; font-weight: bold; color: var(--accent);"></span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--bg-card); border-radius: 8px;">
              <span style="font-weight: 600;">Average Annual Growth:</span>
              <span id="avgGrowth"></span>
            </div>
          </div>
        </div>
      </section>
    </main>
    <nav class="tabbar" aria-label="Primary navigation">
      <a class="tabbar__btn" href="index.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-home"></use></svg>
        <span>Main</span>
      </a>
      <a class="tabbar__btn" href="simulator.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-sim"></use></svg>
        <span>Sim/AI</span>
      </a>
      <a class="tabbar__btn" href="lessons.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-lessons"></use></svg>
        <span>Lessons</span>
      </a>
      <a class="tabbar__btn tabbar__btn--active" href="calculators.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-calc"></use></svg>
        <span>Calc</span>
      </a>
      <a class="tabbar__btn" href="profile.html">
        <svg class="icon icon--tab" viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-profile"></use></svg>
        <span>Profile</span>
      </a>
    </nav>
  </div>
  <script>
    document.getElementById('annualizedForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const beginning = parseFloat(document.getElementById('beginning').value);
      const ending = parseFloat(document.getElementById('ending').value);
      const years = parseFloat(document.getElementById('years').value);
      if (isNaN(beginning) || isNaN(ending) || isNaN(years) || years <= 0) {
        alert('Please fill in all fields with valid values');
        return;
      }
      const totalReturn = ((ending - beginning) / beginning) * 100;
      const annualizedReturn = (Math.pow(ending / beginning, 1 / years) - 1) * 100;
      const avgGrowth = ending - beginning;
      const returnColor = totalReturn >= 0 ? 'var(--accent)' : '#ef4444';
      document.getElementById('totalReturn').textContent = totalReturn.toFixed(2) + '%';
      document.getElementById('totalReturn').style.color = returnColor;
      document.getElementById('totalReturn').style.fontWeight = 'bold';
      document.getElementById('annualizedReturn').textContent = annualizedReturn.toFixed(2) + '% per year';
      document.getElementById('avgGrowth').textContent = '$' + avgGrowth.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',') + ' total';
      document.getElementById('result').style.display = 'block';
      document.getElementById('result').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    });
  </script>
</body>
</html>

